# Requirements Archive: v1.0 Ephraim Care NDIS Platform

**Archived:** 2026-01-27
**Status:** ✅ SHIPPED

This is the archived requirements specification for v1.0.
For current project status, see `.planning/PROJECT.md`.

---

## v1 Requirements (77 total)

### Authentication (AUTH) - 8 requirements

- [x] **AUTH-01**: Admin can log in with email and password
- [x] **AUTH-02**: Admin can reset password via email link
- [x] **AUTH-03**: Session auto-logout after 8 hours of inactivity
- [x] **AUTH-04**: Worker can log in with email and password (mobile-optimized)
- [x] **AUTH-05**: Participant can log in with email and password
- [x] **AUTH-06**: Role-based access control enforces 4 distinct roles (Admin, Coordinator, Worker, Participant)
- [x] **AUTH-07**: RLS prevents cross-organization data access
- [x] **AUTH-08**: Failed login shows clear error messages

### Participant Management (PART) - 9 requirements

- [x] **PART-01**: Admin can view list of all participants with search by name/NDIS number and filter by status
- [x] **PART-02**: Admin can create participant using multi-step form (basic info, plan details, contacts, support needs)
- [x] **PART-03**: Admin can view participant detail page with personal info, NDIS plan, contacts, support needs, quick stats
- [x] **PART-04**: Admin can edit participant details (except NDIS number and plan dates which are read-only)
- [x] **PART-05**: Admin can archive participant (soft delete -- data preserved, hidden from active list)
- [x] **PART-06**: Participant record shows budget used percentage (calculated from invoiced amounts)
- [x] **PART-07**: Participant record shows days until plan ends
- [x] **PART-08**: Form validation enforces required fields, date logic, and format checks
- [x] **PART-09**: NDIS number is unique and validated (6-7 digits format)

### Worker Management (WORK) - 8 requirements

- [x] **WORK-01**: Admin can view list of all workers with search by name/email and filter by status
- [x] **WORK-02**: Admin can create new worker with name, contact, support types, qualifications, compliance dates
- [x] **WORK-03**: Admin can view worker detail page with scheduling stats (hours this month/week, next shift)
- [x] **WORK-04**: Admin can edit worker details (except email which is primary key)
- [x] **WORK-05**: New worker receives welcome email with login credentials
- [x] **WORK-06**: Worker profile stores support types, certifications, years of experience
- [x] **WORK-07**: Worker profile stores NDIS Worker Check number and expiry date
- [x] **WORK-08**: Worker profile stores Working with Children Check expiry date

### Worker Screening (SCRN) - 3 requirements

- [x] **SCRN-01**: System blocks assigning worker with expired NDIS check to new shifts (hard error)
- [x] **SCRN-02**: System warns if worker NDIS check expires within 90 days (yellow warning, allows override)
- [x] **SCRN-03**: Admin dashboard widget shows workers with expired or expiring checks

### Shift Scheduling (SHFT) - 9 requirements

- [x] **SHFT-01**: Admin can create shift with participant, worker, date, start/end time, support type, and notes
- [x] **SHFT-02**: Admin can edit shift details (time, worker, notes, status) if shift is not completed
- [x] **SHFT-03**: Admin can cancel shift with reason (shift preserved in database, status = cancelled)
- [x] **SHFT-04**: Shift list view shows shifts grouped by day with status color coding
- [x] **SHFT-05**: System warns on overlapping worker shifts (allows creation with admin override)
- [x] **SHFT-06**: System warns when scheduling outside participant plan dates (allows with override)
- [x] **SHFT-07**: System validates worker support types match shift support type
- [x] **SHFT-08**: Shift statuses: pending, proposed, confirmed, in_progress, completed, cancelled
- [x] **SHFT-09**: Filter shifts by participant, worker, status, or date range

### Worker Mobile App (MOBL) - 12 requirements

- [x] **MOBL-01**: Worker sees today's shifts on home screen ordered by time
- [x] **MOBL-02**: Worker can check in with GPS location capture and timestamp recording
- [x] **MOBL-03**: Worker sees live timer with elapsed time during active shift
- [x] **MOBL-04**: Worker can check out with automatic duration calculation
- [x] **MOBL-05**: Worker prompted to add case note after check-out (skip or add now)
- [x] **MOBL-06**: Worker can view weekly schedule with shift details
- [x] **MOBL-07**: Worker sees special instructions and medical alerts before check-in
- [x] **MOBL-08**: App persists login session between app closes (Expo SecureStore)
- [x] **MOBL-09**: App caches today's and upcoming shifts for offline viewing
- [x] **MOBL-10**: System auto-checks out worker 30 minutes after scheduled end time
- [x] **MOBL-11**: Admin can manually override/set check-out time for any shift
- [x] **MOBL-12**: Bottom navigation tabs: Home, Schedule, My Notes, Profile

### Case Notes (NOTE) - 6 requirements

- [x] **NOTE-01**: Worker can create case note linked to shift with required text (min 10 chars) and optional concerns
- [x] **NOTE-02**: Admin can view all case notes for a participant with timestamp and worker name
- [x] **NOTE-03**: Admin can filter case notes by date range and worker
- [x] **NOTE-04**: Case note automatically records shift duration, worker, participant, and timestamps
- [x] **NOTE-05**: Case notes are not visible to participants in their portal
- [x] **NOTE-06**: Worker cannot see other workers' case notes

### Invoicing (INVC) - 12 requirements

- [x] **INVC-01**: Admin can generate invoice for a participant within a specified date range
- [x] **INVC-02**: Invoice calculates billable hours as lesser of scheduled duration vs actual check-in/out duration
- [x] **INVC-03**: Invoice uses exact minutes for billing (no rounding applied)
- [x] **INVC-04**: Invoice multiplies billable hours by the configured rate for each support type
- [x] **INVC-05**: Invoice displays line items with date, service type, hours, rate, and line total
- [x] **INVC-06**: Invoice calculates GST at 10% on subtotal
- [x] **INVC-07**: Invoice receives unique sequential number in INV-YYYY-NNN format
- [x] **INVC-08**: Admin can approve/finalize invoice (status: draft to final)
- [x] **INVC-09**: Finalized invoices cannot be edited (locked)
- [x] **INVC-10**: Admin can configure support type hourly rates in settings page
- [x] **INVC-11**: Invoice exportable as PDF with Ephraim Care branding (logo, ABN, colors)
- [x] **INVC-12**: System generates NDIS Bulk Payment CSV in PACE-compliant format

### Participant Portal (PTPL) - 5 requirements

- [x] **PTPL-01**: Participant sees dashboard with plan period, days remaining, and budget status
- [x] **PTPL-02**: Participant sees budget utilization progress bar with used/remaining amounts
- [x] **PTPL-03**: Participant can download finalized invoices as PDF
- [x] **PTPL-04**: Participant cannot access other participants' data (RLS enforced)
- [x] **PTPL-05**: Portal is read-only (no edit or request capabilities in v1)

### Notifications (NOTF) - 3 requirements

- [x] **NOTF-01**: Worker receives email when assigned a new shift
- [x] **NOTF-02**: Worker receives email when their shift is cancelled
- [x] **NOTF-03**: Participant receives email when an invoice is finalized

### Foundation & Infrastructure (INFR) - 9 requirements

- [x] **INFR-01**: Monorepo structure with Turborepo + pnpm (apps/admin, apps/participant, apps/worker-mobile, packages/shared)
- [x] **INFR-02**: SQL migrations tracked in Git and repeatable from scratch
- [x] **INFR-03**: Supabase RLS policies enforce organization-level data isolation on all tables
- [x] **INFR-04**: Error log table in Supabase captures failed operations with user context and timestamps
- [x] **INFR-05**: Seed data script creates 5 participants, 5 workers, 20 shifts, 2 invoices for testing
- [x] **INFR-06**: Full automated test coverage (unit tests, integration tests, E2E tests)
- [x] **INFR-07**: Dev and Prod Supabase environments with separate credentials
- [x] **INFR-08**: "Powered by OpBros" footer with link to opbros.online on all web portals
- [x] **INFR-09**: Ephraim Care branding applied (green #66BB6A, teal #00BFA5, Montserrat headings, Inter body, 8px radius)

---

## Traceability

| Category | Total | Shipped | Coverage |
|----------|-------|---------|----------|
| AUTH | 8 | 8 | 100% |
| PART | 9 | 9 | 100% |
| WORK | 8 | 8 | 100% |
| SCRN | 3 | 3 | 100% |
| SHFT | 9 | 9 | 100% |
| MOBL | 12 | 12 | 100% |
| NOTE | 6 | 6 | 100% |
| INVC | 12 | 12 | 100% |
| PTPL | 5 | 5 | 100% |
| NOTF | 3 | 3 | 100% |
| INFR | 9 | 9 | 100% |
| **Total** | **77** | **77** | **100%** |

---

## Milestone Summary

**Shipped:** 77 of 77 v1 requirements (100%)

**Adjusted:** None — all requirements delivered as specified.

**Dropped:** None — scope held throughout development.

---

*Archived: 2026-01-27 as part of v1.0 milestone completion*
